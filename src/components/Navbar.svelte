<script>
	import { page } from '$app/stores';
	import FaCaretDown from 'svelte-icons/fa/FaCaretDown.svelte';
	import ThemeSelect from './Theme-select.svelte';
	export let pages;
	export let segment;
	import { menu, projects } from '$lib/info';
</script>

<nav
	class="navbar sticky top-0 z-10 mx-auto mb-2 max-w-screen-2xl bg-base-200 pt-6  text-neutral-content">
	<div class="flex-1">
		<div
			class={$page.url.pathname !== '/'
				? 'tooltip tooltip-right'
				: ''}
			data-tip="Back to home ðŸ¤š">
			<a
				href="/"
				class="btn border-0 bg-transparent hover:bg-transparent">
				<svg
					class="h-16 fill-base-content transition duration-150 ease-in-out hover:scale-110"
					viewBox="0 0 661 868"
					version="1.1"
					xmlns="http://www.w3.org/2000/svg"
					><path
						d="M440.921,206.441c-32.422,26.099 -62.92,166.442 -42.458,204.865c30.595,-62.807 45.947,-128.889 65.496,-192.315c-8.984,-4.892 -15.93,-8.677 -23.038,-12.55m-346.22,371.619c46.133,-65.302 51.208,-165.197 56.334,-247.307c-39.849,74.128 -85.724,161.073 -56.334,247.307m202.553,-516.515c-25.8,41.988 -49.339,85.356 -73.368,128.375c-13.735,109.967 25.965,226.723 -12.562,335.825c-21.381,101.011 -151.277,181.01 -162.913,29.147c-1.339,-99.171 46.06,-192.052 91.829,-277.533c22.165,-38.265 13.622,-80.545 21.429,-124.721c-95.743,116.44 -139.911,247.707 -147.395,392.187c-13.031,-19.594 -12.348,-48.127 -13.747,-70.878c1.763,-145.179 89.201,-259.885 174.683,-369.451c9.125,-15.712 51.134,-90.807 59.039,-39.705c-3.154,21.3 -7.792,42.381 -9.813,64.465c12.772,-14.661 106.417,-174.585 117.519,-115.203c1.929,62.706 1.343,124.409 -5.328,186.938c23.062,-40.845 47.673,-80.949 72.749,-120.577c49.582,-64.986 123.31,-67.21 131.744,27.102c2.515,36.154 3.509,72.438 4.172,108.681c0.308,23.038 37.097,21.91 53.609,29.835c17.588,3.679 30.162,-21.292 48.045,-10.626c11.637,6.514 14.415,17.9 13.707,30.288c-5.737,60.317 -83.763,64.974 -128.606,44.867c-18.587,57.22 -43.901,121.612 -101.149,149.854c-131.303,44.576 -55.323,-225.817 -12.231,-272.023c17.026,-20.564 28.549,-21.696 53.245,-7.771c3.55,-30.708 32.249,-148.192 -27.166,-96.871c-174.582,182.914 -146.097,464.123 -113.311,695.087c1.257,28.161 22.06,78.645 -16.545,88.312c-26.495,4.593 -34.149,-26.604 -40.064,-46.521c-75.171,-248.617 -19.043,-511.918 22.428,-759.083" /></svg>
			</a>
		</div>
	</div>
	<div class="mx-2 px-2">
		<ThemeSelect />
		<div class="ml-4 hidden lg:flex lg:items-stretch lg:gap-4">
			<a
				href={menu.home.url}
				class="{segment === '/'
					? 'bg-neutral text-white hover:text-neutral hover:bg-transparent'
					: 'btn-outline'} btn rounded-btn btn-sm bg-base-200 text-xl capitalize italic transition ease-in-out hover:shadow-lg"
				>{menu.home.name}</a>
			<a
				href={menu.about.url}
				class="{segment === '/about-me'
					? 'bg-neutral text-white hover:text-neutral hover:bg-transparent'
					: 'btn-outline'} btn rounded-btn btn-sm bg-base-200 text-xl capitalize italic transition ease-in-out hover:shadow-lg "
				>{menu.about.name}</a>
			{#each pages as { title, slug }}
				<a
					href={`/${slug}`}
					class="{segment === `/${slug}`
						? 'bg-neutral text-white hover:text-neutral hover:bg-transparent'
						: 'btn-outline'} btn rounded-btn btn-sm bg-base-200 text-xl capitalize italic transition ease-in-out hover:shadow-lg">
					{title}
				</a>
			{/each}

			<div class="dropdown">
				<span
					tabindex="0"
					class="{segment.includes('/development') ||
					segment.includes('/design') ||
					segment.includes('/audiovisual')
						? 'bg-neutral text-white hover:text-neutral hover:bg-transparent'
						: 'btn-outline'} btn rounded-btn btn-sm bg-base-200 text-xl capitalize italic transition ease-in-out hover:shadow-lg">
					<span class="mr-2 w-4"><FaCaretDown /></span> Projects</span>
				<ul
					tabindex="0"
					class=" dropdown-content menu rounded-box mt-4 w-52 bg-base-content p-2 text-base-200 shadow-lg">
					{#each projects as { name, url, icon }}
						<li>
							<a
								href={url}
								class="capitalize italic hover:bg-base-200 hover:text-base-content">
								{name}</a>
						</li>
					{/each}
				</ul>
			</div>
			<!-- DROPDOWN WRITING -->
			<!-- <div class="dropdown">
				<span
					tabindex="0"
					class="{$page.url.pathname.includes('/blog') ||
					$page.url.pathname.includes('/journal')
						? 'bg-accent text-neutral hover:text-white'
						: 'btn-outline'} btn btn-accent rounded-btn btn-sm transition ease-in-out hover:shadow-lg hover:shadow-cyan-500/50"
					>Writing</span>
				<ul
					tabindex="0"
					class="dropdown-content menu rounded-box mt-4 w-52 bg-secondary p-2 shadow">
					<li><a href="/blog">Blog</a></li>
					<li><a href="/journal">Journal</a></li>
				</ul>
			</div> -->

			<button
				type="button"
				class="btn btn-accent rounded-btn btn-sm text-xl capitalize italic transition ease-in-out"
				data-tally-open="wLo013"
				data-tally-overlay="1"
				data-tally-emoji-text="ðŸš€"
				data-tally-emoji-animation="wave"
				data-tally-auto-close="5000">
				{menu.contact}
			</button>
		</div>
	</div>

	<!-- HAMBURGER MENU -->
	<label
		class="btn-base-content btn-outline btn btn-circle lg:hidden"
		for="my-drawer-4">
		<!-- hamburger icon -->
		<svg
			class="swap-on fill-base-content"
			xmlns="http://www.w3.org/2000/svg"
			width="32"
			height="32"
			viewBox="0 0 512 512"
			><path
				d="M64,384H448V341.33H64Zm0-106.67H448V234.67H64ZM64,128v42.67H448V128Z" /></svg>
	</label>
</nav>

<style>
	svg {
		width: auto;
	}
</style>
